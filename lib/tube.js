(function() {
  var COMMAND, SPUDpacket, SPUDtube, STATES, TubeError, caps, crypto, utils,
    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
    hasProp = {}.hasOwnProperty,
    slice = [].slice;

  crypto = require('crypto');

  caps = require('./caps');

  SPUDpacket = require('./packet');

  utils = require('./utils');

  COMMAND = require('./constants').COMMAND;

  STATES = utils["enum"](['START', 'OPENING', 'RUNNING', 'CLOSING', 'CLOSED']);

  TubeError = (function(superClass) {
    extend(TubeError, superClass);

    function TubeError(tube, msg, packet) {
      this.packet = packet;
      Error.captureStackTrace(this, this.constructor);
      this.name = this.constructor.name;
      this.message = tube + ": " + msg;
      this.sent = 0;
      this.received = 0;
    }

    return TubeError;

  })(Error);

  module.exports = SPUDtube = (function() {
    function SPUDtube(manager, options) {
      this.manager = manager;
      this.options = options != null ? options : {};
      this.state = STATES.START;
      this.options.caps = caps.combine(this.options.caps);
      if (this.options.packet != null) {
        this.peer = this.options.packet.from;
        this.tube = this.options.packet.tube;
        this.key = this.options.packet.key;
      } else {
        this.peer = {
          address: this.options.address,
          port: this.options.port
        };
        this.tube = crypto.randomBytes(8);
        this.key = SPUDpacket.key(this.peer, this.tube);
      }
    }

    SPUDtube.prototype.toString = function() {
      return "<Tube " + (this.tube.toString('hex')) + ">";
    };

    SPUDtube.prototype.open = function(data) {
      var m;
      console.log('open');
      if (this.state !== STATES.START) {
        throw new Error('Invalid open state: ' + STATES[this.state]);
      }
      this.state = STATES.OPENING;
      m = new Map;
      if (data != null) {
        m.set(0, data);
      }
      if (this.options.caps) {
        m.set(1, caps.hash(this.options.caps));
      }
      return this.send(new SPUDpacket({
        cmd: COMMAND.OPEN,
        data: data,
        key: this.key
      }));
    };

    SPUDtube.prototype.close = function(data) {
      this.state = STATES.CLOSING;
      return this.send(new SPUDpacket({
        cmd: COMMAND.CLOSE,
        data: data,
        key: this.key
      }));
    };

    SPUDtube.prototype.send = function(pkt) {
      var data;
      this.sent++;
      if (!(pkt instanceof SPUDpacket)) {
        data = pkt;
        if (!(data instanceof Map)) {
          data = new Map;
          data.set(0, pkt);
        }
        pkt = new SPUDpacket({
          cmd: COMMAND.DATA,
          data: data,
          key: this.key
        });
      }
      pkt.tube = this.tube;
      return this.manager._send(this, pkt);
    };

    SPUDtube.prototype.emit = function() {
      var event, params, ref;
      event = arguments[0], params = 2 <= arguments.length ? slice.call(arguments, 1) : [];
      return (ref = this.manager).emit.apply(ref, [event].concat(slice.call(params)));
    };

    SPUDtube.prototype.error = function(msg, pkt) {
      return this.emit('error', new TubeError(this, msg, pkt));
    };

    SPUDtube.prototype.recv = function(pkt) {
      this.received++;
      switch (this.state) {
        case STATES.START:
          this.state = STATES.RUNNING;
          return this.send(pkt.reply());
        case STATES.OPENING:
          if (pkt.cmd !== COMMAND.ACK) {
            return this.error('Ignoring non-ACK packet before ACK', pkt);
          }
          this.state = STATES.RUNNING;
          return this.emit('running', this);
        case STATES.RUNNING:
          switch (pkt.cmd) {
            case COMMAND.DATA:
              return this.emit('data', this, pkt);
            case COMMAND.CLOSE:
              this.state = STATES.CLOSED;
              this.send(pkt.reply());
              return this.manager.remove(this);
          }
          break;
        case STATES.CLOSING:
          switch (pkt.cmd) {
            case COMMAND.DATA:
              return this.emit('data', this, pkt);
            case COMMAND.CLOSE:
              this.state = STATES.CLOSED;
              this.send(pkt.reply());
              return this.manager.remove(this);
            case COMMAND.ACK:
              this.state = STATES.CLOSED;
              return this.manager.remove(this);
          }
      }
    };

    return SPUDtube;

  })();

}).call(this);

//# sourceMappingURL=data:application/json;base64,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LE9BQU8sQ0FBQyxJQURmO3FCQUN5QixJQUFDLENBQUEsSUFBRCxDQUFNLE1BQU4sRUFBYyxJQUFkLEVBQWlCLEdBQWpCO0FBRHpCLGlCQUVPLE9BQU8sQ0FBQyxLQUZmO2NBR0ksSUFBQyxDQUFBLEtBQUQsR0FBUyxNQUFNLENBQUM7Y0FDaEIsSUFBQyxDQUFBLElBQUQsQ0FBTSxHQUFHLENBQUMsS0FBSixDQUFBLENBQU47cUJBQ0EsSUFBQyxDQUFBLE9BQU8sQ0FBQyxNQUFULENBQWdCLElBQWhCO0FBTEosaUJBTU8sT0FBTyxDQUFDLEdBTmY7Y0FPSSxJQUFDLENBQUEsS0FBRCxHQUFTLE1BQU0sQ0FBQztxQkFDaEIsSUFBQyxDQUFBLE9BQU8sQ0FBQyxNQUFULENBQWdCLElBQWhCO0FBUko7QUFuQko7SUFGSTs7Ozs7QUFwRlIiLCJmaWxlIjoidHViZS5qcyIsInNvdXJjZVJvb3QiOiIvc291cmNlLyIsInNvdXJjZXNDb250ZW50IjpbImNyeXB0byA9IHJlcXVpcmUgJ2NyeXB0bydcbmNhcHMgPSByZXF1aXJlICcuL2NhcHMnXG5TUFVEcGFja2V0ID0gcmVxdWlyZSAnLi9wYWNrZXQnXG51dGlscyA9IHJlcXVpcmUgJy4vdXRpbHMnXG57Q09NTUFORH0gPSByZXF1aXJlICcuL2NvbnN0YW50cydcblxuU1RBVEVTID0gdXRpbHMuZW51bSBbXG4gICdTVEFSVCdcbiAgJ09QRU5JTkcnXG4gICdSVU5OSU5HJ1xuICAnQ0xPU0lORydcbiAgJ0NMT1NFRCdcbl1cblxuY2xhc3MgVHViZUVycm9yIGV4dGVuZHMgRXJyb3JcbiAgY29uc3RydWN0b3I6ICh0dWJlLCBtc2csIEBwYWNrZXQpIC0+XG4gICAgRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UgQCwgQGNvbnN0cnVjdG9yXG4gICAgQG5hbWUgPSBAY29uc3RydWN0b3IubmFtZVxuICAgIEBtZXNzYWdlID0gXCIje3R1YmV9OiAje21zZ31cIlxuICAgIEBzZW50ID0gMFxuICAgIEByZWNlaXZlZCA9IDBcblxubW9kdWxlLmV4cG9ydHMgPSBjbGFzcyBTUFVEdHViZVxuICBjb25zdHJ1Y3RvcjogKEBtYW5hZ2VyLCBAb3B0aW9ucz17fSkgLT5cbiAgICBAc3RhdGUgPSBTVEFURVMuU1RBUlRcbiAgICBAb3B0aW9ucy5jYXBzID0gY2Fwcy5jb21iaW5lIEBvcHRpb25zLmNhcHNcbiAgICBpZiBAb3B0aW9ucy5wYWNrZXQ/XG4gICAgICAjIFJlY2VpdmVkIE9QRU5cbiAgICAgIEBwZWVyID0gQG9wdGlvbnMucGFja2V0LmZyb21cbiAgICAgIEB0dWJlID0gQG9wdGlvbnMucGFja2V0LnR1YmVcbiAgICAgIEBrZXkgID0gQG9wdGlvbnMucGFja2V0LmtleVxuICAgIGVsc2VcbiAgICAgIEBwZWVyID1cbiAgICAgICAgYWRkcmVzczogQG9wdGlvbnMuYWRkcmVzc1xuICAgICAgICBwb3J0OiBAb3B0aW9ucy5wb3J0XG4gICAgICBAdHViZSA9IGNyeXB0by5yYW5kb21CeXRlcyA4XG4gICAgICBAa2V5ID0gU1BVRHBhY2tldC5rZXkgQHBlZXIsIEB0dWJlXG5cbiAgdG9TdHJpbmc6IC0+XG4gICAgXCI8VHViZSAje0B0dWJlLnRvU3RyaW5nKCdoZXgnKX0+XCJcblxuICBvcGVuOiAoZGF0YSkgLT5cbiAgICBjb25zb2xlLmxvZyAnb3BlbidcbiAgICBpZiBAc3RhdGUgIT0gU1RBVEVTLlNUQVJUXG4gICAgICB0aHJvdyBuZXcgRXJyb3IgJ0ludmFsaWQgb3BlbiBzdGF0ZTogJyArIFNUQVRFU1tAc3RhdGVdXG4gICAgQHN0YXRlID0gU1RBVEVTLk9QRU5JTkdcbiAgICBtID0gbmV3IE1hcFxuICAgIGlmIGRhdGE/XG4gICAgICBtLnNldCAwLCBkYXRhXG4gICAgaWYgQG9wdGlvbnMuY2Fwc1xuICAgICAgbS5zZXQgMSwgY2Fwcy5oYXNoKEBvcHRpb25zLmNhcHMpXG4gICAgQHNlbmQgbmV3IFNQVURwYWNrZXRcbiAgICAgIGNtZDogQ09NTUFORC5PUEVOXG4gICAgICBkYXRhOiBkYXRhXG4gICAgICBrZXk6IEBrZXlcblxuICBjbG9zZTogKGRhdGEpIC0+XG4gICAgQHN0YXRlID0gU1RBVEVTLkNMT1NJTkdcbiAgICBAc2VuZCBuZXcgU1BVRHBhY2tldFxuICAgICAgY21kOiBDT01NQU5ELkNMT1NFXG4gICAgICBkYXRhOiBkYXRhXG4gICAgICBrZXk6IEBrZXlcblxuICBzZW5kOiAocGt0KSAtPlxuICAgIEBzZW50KytcbiAgICBpZiAhKHBrdCBpbnN0YW5jZW9mIFNQVURwYWNrZXQpXG4gICAgICBkYXRhID0gcGt0XG4gICAgICBpZiAhKGRhdGEgaW5zdGFuY2VvZiBNYXApXG4gICAgICAgIGRhdGEgPSBuZXcgTWFwXG4gICAgICAgIGRhdGEuc2V0IDAsIHBrdFxuICAgICAgcGt0ID0gbmV3IFNQVURwYWNrZXRcbiAgICAgICAgY21kOiBDT01NQU5ELkRBVEFcbiAgICAgICAgZGF0YTogZGF0YVxuICAgICAgICBrZXk6IEBrZXlcbiAgICBwa3QudHViZSA9IEB0dWJlXG5cbiAgICBAbWFuYWdlci5fc2VuZCBALCBwa3RcblxuICBlbWl0OiAoZXZlbnQsIHBhcmFtcy4uLikgLT5cbiAgICBAbWFuYWdlci5lbWl0IGV2ZW50LCBwYXJhbXMuLi5cblxuICBlcnJvcjogKG1zZywgcGt0KSAtPlxuICAgIEBlbWl0ICdlcnJvcicsIG5ldyBUdWJlRXJyb3IoQCwgbXNnLCBwa3QpXG5cbiAgcmVjdjogKHBrdCkgLT5cbiAgICBAcmVjZWl2ZWQrK1xuICAgIHN3aXRjaCBAc3RhdGVcbiAgICAgIHdoZW4gU1RBVEVTLlNUQVJUXG4gICAgICAgICMgb3BlbiBmcm9tIG90aGVyIHNpZGUuICBUT0RPOiBjaGVjayBwb2xpY3kgZWl0aGVyIGhlcmUgb3IgbWFuYWdlclxuICAgICAgICBAc3RhdGUgPSBTVEFURVMuUlVOTklOR1xuICAgICAgICBAc2VuZCBwa3QucmVwbHkoKVxuICAgICAgd2hlbiBTVEFURVMuT1BFTklOR1xuICAgICAgICAjIGFjayBmcm9tIG90aGVyIHNpZGUuXG4gICAgICAgIGlmIHBrdC5jbWQgIT0gQ09NTUFORC5BQ0tcbiAgICAgICAgICByZXR1cm4gQGVycm9yICdJZ25vcmluZyBub24tQUNLIHBhY2tldCBiZWZvcmUgQUNLJywgcGt0XG4gICAgICAgIEBzdGF0ZSA9IFNUQVRFUy5SVU5OSU5HXG4gICAgICAgIEBlbWl0ICdydW5uaW5nJywgQFxuICAgICAgd2hlbiBTVEFURVMuUlVOTklOR1xuICAgICAgICBzd2l0Y2ggcGt0LmNtZFxuICAgICAgICAgIHdoZW4gQ09NTUFORC5EQVRBIHRoZW4gQGVtaXQgJ2RhdGEnLCBALCBwa3RcbiAgICAgICAgICB3aGVuIENPTU1BTkQuQ0xPU0VcbiAgICAgICAgICAgIEBzdGF0ZSA9IFNUQVRFUy5DTE9TRURcbiAgICAgICAgICAgIEBzZW5kIHBrdC5yZXBseSgpXG4gICAgICAgICAgICBAbWFuYWdlci5yZW1vdmUgQFxuICAgICAgd2hlbiBTVEFURVMuQ0xPU0lOR1xuICAgICAgICBzd2l0Y2ggcGt0LmNtZFxuICAgICAgICAgIHdoZW4gQ09NTUFORC5EQVRBIHRoZW4gQGVtaXQgJ2RhdGEnLCBALCBwa3RcbiAgICAgICAgICB3aGVuIENPTU1BTkQuQ0xPU0VcbiAgICAgICAgICAgIEBzdGF0ZSA9IFNUQVRFUy5DTE9TRURcbiAgICAgICAgICAgIEBzZW5kIHBrdC5yZXBseSgpXG4gICAgICAgICAgICBAbWFuYWdlci5yZW1vdmUgQFxuICAgICAgICAgIHdoZW4gQ09NTUFORC5BQ0tcbiAgICAgICAgICAgIEBzdGF0ZSA9IFNUQVRFUy5DTE9TRURcbiAgICAgICAgICAgIEBtYW5hZ2VyLnJlbW92ZSBAXG4iXX0=
